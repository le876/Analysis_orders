
            <!DOCTYPE html>
            <html>
            <head>
                <meta charset="utf-8" />
                <meta name="viewport" content="width=device-width, initial-scale=1" />
                <title>预测分位闭环收益表现</title>
                <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
                <script src="https://cdn.tailwindcss.com"></script>
                <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
                <style>
                    body { font-family: "Noto Sans SC","Microsoft YaHei","Segoe UI",sans-serif; }
                    .markdown-body h3 { font-size: 1.05rem; margin-top: 1rem; margin-bottom: .45rem; }
                    .markdown-body p { margin: .35rem 0; color: #374151; line-height: 1.65; }
                    .markdown-body ul { margin: .25rem 0 .5rem 1.2rem; color: #374151; line-height: 1.6; list-style: disc; }
                    .markdown-body li { margin: .2rem 0; }
                </style>
                <script>
                    window.MathJax = {
                        tex: {
                            inlineMath: [["$","$"],["\(","\)"]],
                            displayMath: [["$$","$$"],["\[","\]"]],
                            processEscapes: true
                        },
                        options: { skipHtmlTags: ["script","noscript","style","textarea","pre","code"] },
                        svg: { fontCache: 'global' }
                    };
                </script>
                <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" onerror="this.onerror=null; this.src='assets/mathjax/tex-chtml-full.js';"></script>
            </head>
            <body class="bg-gray-50">
                <header class="sticky top-0 z-30 bg-white shadow-sm border-b border-gray-100">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between">
                        <div>
                            <p class="text-[11px] tracking-[0.18em] text-gray-500 uppercase">时段分析</p>
                            <h1 class="text-xl font-semibold text-gray-900">预测分位闭环收益表现</h1>
                        </div>
                        <div class="text-xs text-gray-500">滚动查看完整内容</div>
                    </div>
                </header>
                <main class="max-w-7xl mx-auto px-4 sm:px-6 py-6">
                    <div class="bg-white rounded-lg shadow-sm p-6" id="page-root">
                        <div id="main-chart" class="mb-6">
                            
            <div id="pred_quantile_closed_trade_light" class="plotly-graph-div" style="height:420px; width:100%;"></div>
            <script type="text/javascript">
                window.PLOTLYENV=window.PLOTLYENV || {};
                (function() {
                    var fig = {"data": [{"marker": {"color": "teal"}, "name": "组收益率", "text": ["0.42%", "0.17%", "0.11%", "0.10%", "0.13%", "0.08%", "0.05%", "0.08%", "0.14%", "0.45%"], "textposition": "outside", "x": ["G1", "G2", "G3", "G4", "G5", "G6", "G7", "G8", "G9", "G10"], "y": [0.004168442375585566, 0.0017167023730298105, 0.001110632712874477, 0.0009849609381893936, 0.0012793441999026803, 0.000804785125066877, 0.0004946869111514238, 0.0007971127507621809, 0.0013502875933381223, 0.004517966485026048], "type": "bar", "xaxis": "x", "yaxis": "y"}, {"line": {"color": "orange", "width": 2}, "marker": {"size": 8}, "mode": "lines+markers", "name": "累计盈亏 (百万元)", "x": ["G1", "G2", "G3", "G4", "G5", "G6", "G7", "G8", "G9", "G10"], "y": [13.333486137423654, 4.307769649838176, 2.634711424655458, 2.180352369378459, 2.968690099057763, 1.671931649440488, 1.016239675692904, 1.7178924047291442, 3.1548238737208893, 13.257516369888078], "type": "scatter", "xaxis": "x", "yaxis": "y2"}], "layout": {"template": {"data": {"histogram2dcontour": [{"type": "histogram2dcontour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "choropleth": [{"type": "choropleth", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "histogram2d": [{"type": "histogram2d", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmap": [{"type": "heatmap", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "contourcarpet": [{"type": "contourcarpet", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "contour": [{"type": "contour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "surface": [{"type": "surface", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "mesh3d": [{"type": "mesh3d", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "parcoords": [{"type": "parcoords", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolargl": [{"type": "scatterpolargl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "scattergeo": [{"type": "scattergeo", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolar": [{"type": "scatterpolar", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "scattergl": [{"type": "scattergl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatter3d": [{"type": "scatter3d", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermap": [{"type": "scattermap", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermapbox": [{"type": "scattermapbox", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterternary": [{"type": "scatterternary", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattercarpet": [{"type": "scattercarpet", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "pie": [{"automargin": true, "type": "pie"}]}, "layout": {"autotypenumbers": "strict", "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "hovermode": "closest", "hoverlabel": {"align": "left"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"bgcolor": "#E5ECF6", "angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "ternary": {"bgcolor": "#E5ECF6", "aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]]}, "xaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "yaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "geo": {"bgcolor": "white", "landcolor": "#E5ECF6", "subunitcolor": "white", "showland": true, "showlakes": true, "lakecolor": "white"}, "title": {"x": 0.05}, "mapbox": {"style": "light"}}}, "xaxis": {"anchor": "y", "domain": [0.0, 0.94], "title": {"text": "预测分位组"}, "showgrid": false, "zeroline": false}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "组收益率"}, "tickformat": ".1%", "showgrid": true, "gridcolor": "#e5e7eb", "zeroline": true, "zerolinecolor": "#9ca3af"}, "yaxis2": {"anchor": "x", "overlaying": "y", "side": "right", "title": {"text": "累计盈亏 (百万元)"}}, "legend": {"orientation": "h", "yanchor": "bottom", "y": 1.02, "xanchor": "right", "x": 1.0}, "title": {"text": "预测分位闭环收益表现（基于配对交易）"}, "bargap": 0.2, "height": 420, "font": {"family": "Noto Sans SC, \"Microsoft YaHei\", \"Segoe UI\", sans-serif"}, "margin": {"t": 30, "b": 40, "l": 60, "r": 20}, "hovermode": "x unified", "paper_bgcolor": "rgba(0,0,0,0)", "plot_bgcolor": "rgba(0,0,0,0)"}};
                    var cfg = {"displayModeBar": false, "displaylogo": false, "modeBarButtonsToRemove": ["pan2d", "lasso2d"]};
                    if (document.getElementById("pred_quantile_closed_trade_light")) {
                        Plotly.newPlot("pred_quantile_closed_trade_light", fig.data || [], fig.layout || {}, cfg);
                    }
                })();
            </script>
            
                        </div>
                        
                <div class="mt-2 mb-4">
                    <table class="w-full text-sm border border-gray-100 rounded-md overflow-hidden">
                        <thead class="bg-gray-50 text-gray-500">
                            <tr><th class="py-2 px-3 text-left">指标</th><th class="py-2 px-3 text-left">数值</th></tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100"><tr><td class='py-2 px-3 text-gray-600'>组合数</td><td class='py-2 px-3 text-gray-900 font-medium'>10</td></tr><tr><td class='py-2 px-3 text-gray-600'>G1收益率</td><td class='py-2 px-3 text-gray-900 font-medium'>0.42%</td></tr><tr><td class='py-2 px-3 text-gray-600'>G10收益率</td><td class='py-2 px-3 text-gray-900 font-medium'>0.45%</td></tr><tr><td class='py-2 px-3 text-gray-600'>总盈亏(亿元)</td><td class='py-2 px-3 text-gray-900 font-medium'>0.462</td></tr><tr><td class='py-2 px-3 text-gray-600'>总开仓金额(亿元)</td><td class='py-2 px-3 text-gray-900 font-medium'>241.721</td></tr><tr><td class='py-2 px-3 text-gray-600'>G10-G1收益率差</td><td class='py-2 px-3 text-gray-900 font-medium'>0.03%</td></tr><tr><td class='py-2 px-3 text-gray-600'>G10-G1盈亏差(百万元)</td><td class='py-2 px-3 text-gray-900 font-medium'>-0.076</td></tr></tbody>
                    </table>
                </div>
                
                        <div id="explain-md" class="markdown-body mt-4"></div>
                    </div>
                </main>
                <script>
                    (function ensureRender(){
                        var mdText = "<p>将所有闭环交易按开仓时的预测值进行分位分组，统计每组的累计盈亏与资金占用收益率。</p><ul><li>收益率 = Σ盈亏 / Σ开仓金额，反映预测排序的现金效率。</li><li>累计盈亏展示每组为策略贡献的绝对收益水平。</li><li>最优组与最差组的收益率差值可视为多空组合的超额收益。</li></ul>";
                        var mdTarget = document.getElementById('explain-md');
                        if (mdTarget){
                            if (window.marked) {
                                mdTarget.innerHTML = marked.parse(mdText);
                            } else {
                                mdTarget.textContent = mdText;
                            }
                        }
                        var anchor = document.getElementById('main-chart');
                        if (anchor) {
                            requestAnimationFrame(function() {
                                anchor.scrollIntoView({ behavior: 'auto', block: 'start' });
                            });
                        }
                        function typeset() {
                            if (window.MathJax && window.MathJax.typesetPromise) {
                                window.MathJax.typesetPromise().catch(function(err){ console.warn('MathJax error:', err); });
                            }
                        }
                        if (document.readyState === 'complete') {
                            typeset();
                        } else {
                            window.addEventListener('load', typeset);
                        }
                    })();
                </script>
            </body>
            </html>
            