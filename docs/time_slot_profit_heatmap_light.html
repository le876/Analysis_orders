
            <!DOCTYPE html>
            <html>
            <head>
                <meta charset="utf-8" />
                <meta name="viewport" content="width=device-width, initial-scale=1" />
                <title>星期×时段绝对盈利热力图</title>
                <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
                <style>
                    body { font-family: Arial, sans-serif; margin: 20px; }
                    h1 { margin: 0 0 15px 0; font-size: 22px; }
                    .card { background: #fff; padding: 16px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
                    .chart-container { margin-bottom: 20px; }
                    .metrics-section { margin-top: 15px; }
                    .explain { margin-top: 14px; color: #444; line-height: 1.7; }
                    table td, table th { border-bottom: 1px solid #eee; padding: 8px; }
                </style>
                <script>
                    window.MathJax = {
                        tex: {
                            inlineMath: [["$","$"],["\(","\)"]],
                            displayMath: [["$$","$$"],["\[","\]"]],
                            processEscapes: true
                        },
                        options: { skipHtmlTags: ["script","noscript","style","textarea","pre","code"] },
                        svg: { fontCache: 'global' }
                    };
                </script>
                <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" onerror="this.onerror=null; this.src='assets/mathjax/tex-chtml-full.js';"></script>
            </head>
            <body>
                <div class="card" id="page-root"> 
                    <h1>星期×时段绝对盈利热力图</h1>
                    <div class="chart-container">
                        
                <div id="time_slot_profit_heatmap_light" class="plotly-graph-div" style="height:480px; width:100%;"></div>
                <script type="text/javascript">
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    (function() {
                        var fig = {"data": [{"colorbar": {"title": {"text": "绝对收益"}}, "colorscale": [[0.0, "rgb(103,0,31)"], [0.1, "rgb(178,24,43)"], [0.2, "rgb(214,96,77)"], [0.3, "rgb(244,165,130)"], [0.4, "rgb(253,219,199)"], [0.5, "rgb(247,247,247)"], [0.6, "rgb(209,229,240)"], [0.7, "rgb(146,197,222)"], [0.8, "rgb(67,147,195)"], [0.9, "rgb(33,102,172)"], [1.0, "rgb(5,48,97)"]], "reversescale": true, "x": ["09:30", "09:35", "09:40", "09:45", "09:50", "09:55", "10:00", "10:05", "10:10", "10:15", "10:20", "10:25", "10:30", "10:35", "10:40", "10:45", "10:50", "10:55", "11:00", "11:05", "11:10", "11:15", "11:20", "11:25", "11:30", "13:00", "13:05", "13:10", "13:15", "13:20", "13:25", "13:30", "13:35", "13:40", "13:45", "13:50", "13:55", "14:00", "14:05", "14:10", "14:15", "14:20", "14:25", "14:30", "14:35", "14:40", "14:45", "14:50", "14:55", "15:00"], "y": ["周一", "周二", "周三", "周四", "周五", "周六", "周日"], "z": [[6562812.104663039, 1445810.6279238074, 670994.9489147207, 183500.8603281298, 187055.16255501646, 158664.59750762454, 174279.08263937384, 77980.38270285353, 80840.06123019975, 46962.72940659279, 47724.74124653135, 47429.52878058099, 59065.01481090818, 39622.67532664663, 40352.327829822985, 46711.453534581815, 39457.271221571085, 33722.894143340745, 39045.77835057849, 28418.97133906575, 31491.265872580316, 36525.38518978133, 42356.3353036035, 18197.61151438841, NaN, 57228.49987404048, 38048.5079366137, 17016.384758021744, 18144.715584649966, 8424.602428144948, 11583.625684783075, 5867.015776181077, 1745.882484250106, 7690.453012700378, 2381.228800988618, -2751.7297177373403, -7346.652826361654, -25366.594181435736, -19421.27041924884, -14876.894516609527, -17536.2763748743, -16019.475349700904, -10230.074086271443, -6314.0683173120005, 449.4903466715385, -7651.347243767798, -1914.5457609028867, 2413.354191963813, 15495.797930552631, NaN], [7213518.947055079, 1444968.3354081272, 671291.0780183994, 399289.2753264186, 146676.39862055113, 148563.39664316963, 62647.78592430917, 53174.434550471524, 16451.45205449289, 38045.07561993587, 75976.22491752327, 23585.721872621263, 13101.617558426766, 44824.398805733246, -9713.811127004863, -9446.036787912823, 14716.061601111494, 16556.206748525437, 9424.2765288524, 6719.381410214911, 11972.239376831376, 2828.227245325676, 5103.578795534299, 3320.446204217981, NaN, 41425.492056471776, 19251.77251152147, 13715.06783747712, 29536.978320897357, 3360.2452944816287, 1218.598558134999, 1658.8143173268006, 4223.35324098264, 9529.483711953995, 13906.713481379633, -2233.1324527561396, -4960.73764144441, 6286.968273932402, 11150.909596382364, -3426.738963729736, 16939.149993304014, -6603.293227152485, -5712.458457785068, -3426.6479818225403, 5389.025262408471, 8496.710649866971, 12285.000211587729, 17814.10389497906, 37558.7208752373, NaN], [4228692.5405263435, 1333712.544984492, 725543.226695133, 688225.9589149328, 408592.47157235234, 225542.8699433658, 139853.91552868314, 53774.11371609929, 63645.90567935438, 29745.20668911189, 6688.685241474542, -24172.812331281515, 7736.3151975420105, 37526.56872897931, 27694.06780306318, 49327.86636098134, 31412.34379121549, 23700.723510160886, 43793.478560410884, 19360.092192983437, 24248.071486500932, 16900.095567962275, 18286.011319663823, 25610.368208059368, NaN, 84996.36743965893, 52041.937865395295, 18234.397509538787, -977.7361228318756, 3798.182623749644, -7947.713067745851, 14611.004385811451, 1919.7338846808161, -1340.5141640909558, 9943.808850379426, 2829.157437564498, 7252.76378605495, 9591.76101279179, 9106.247704132953, 790.450103190892, 2678.910180947365, -1304.1140100808072, -3495.6143441211157, -2490.890548032397, -2161.7043626411487, -7177.776110804567, -966.6154169654833, -7280.475490375223, 12278.03132100203, NaN], [4555457.991004815, 1156936.7918212293, 535623.2597512708, 230727.16538663788, 51226.322804547046, 89557.17398268527, -9398.754618490806, -4188.6614397483745, 20388.571722150926, 56895.6330856038, 59427.134391291605, 58478.8128356607, 118162.43232717573, 64086.3366561382, 46893.955879894034, 41526.170867702196, 30391.94175671116, 16281.370772156153, 25878.070375572268, 14676.247176239827, 18151.248052818097, 33799.41408845384, 26927.592600554803, 24127.307081904204, NaN, 59644.411683713704, 21044.91807841195, 27893.43017586181, 21366.162702576126, 16323.231156606045, 13422.640446883117, 20057.25749745962, 15549.731111005223, 13684.665313935657, 11079.280597283088, 2721.048280399707, 5208.266079484185, -10692.747105654946, -15699.803337489911, -11285.38078953786, -9421.327559279776, 12205.961609546472, 9062.98412042998, -5605.588193151673, -14156.035012382645, -165.30380792718984, 5134.598441408033, 4361.284843274913, 16993.154041823, NaN], [4531787.7091587, 1197226.0475092407, 811023.8691112688, 605171.9978573163, 478680.38739118224, 315303.8403090255, 182003.47220221985, 136322.60591107965, 67875.55923808529, 76473.4546300306, 88471.66732897704, 60364.60849011693, 32372.528319238725, 39309.95254056682, 50889.20121743543, 58992.544011246995, 40031.00116256788, 52427.98048871868, 48848.800834009715, 31793.01336303462, 51632.80584315466, 34227.72119853105, 37693.99184542734, 43286.831712092564, NaN, 138145.56837547992, 42867.576346860726, 44348.847852659244, 24901.43857693129, 31703.02555667242, 21541.21360138953, 21883.8737348456, 24541.63518354162, 30142.395288249805, 24048.34590531821, 18791.22731915102, 23797.23928888769, 15833.736534176916, 10184.51974017767, -2689.446062809181, -7133.366041439741, -190.22017909401995, -2095.487922669867, 2322.9749025404703, -16.983062742970247, 7917.1519484286355, -6242.4913178060015, -1671.2129797502475, 10078.646385032467, NaN], [NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN], [NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN]], "type": "heatmap"}], "layout": {"template": {"data": {"histogram2dcontour": [{"type": "histogram2dcontour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "choropleth": [{"type": "choropleth", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "histogram2d": [{"type": "histogram2d", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmap": [{"type": "heatmap", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "contourcarpet": [{"type": "contourcarpet", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "contour": [{"type": "contour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "surface": [{"type": "surface", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "mesh3d": [{"type": "mesh3d", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "parcoords": [{"type": "parcoords", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolargl": [{"type": "scatterpolargl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "scattergeo": [{"type": "scattergeo", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolar": [{"type": "scatterpolar", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "scattergl": [{"type": "scattergl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatter3d": [{"type": "scatter3d", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermap": [{"type": "scattermap", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermapbox": [{"type": "scattermapbox", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterternary": [{"type": "scatterternary", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattercarpet": [{"type": "scattercarpet", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "pie": [{"automargin": true, "type": "pie"}]}, "layout": {"autotypenumbers": "strict", "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "hovermode": "closest", "hoverlabel": {"align": "left"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"bgcolor": "#E5ECF6", "angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "ternary": {"bgcolor": "#E5ECF6", "aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]]}, "xaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "yaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "geo": {"bgcolor": "white", "landcolor": "#E5ECF6", "subunitcolor": "white", "showland": true, "showlakes": true, "lakecolor": "white"}, "title": {"x": 0.05}, "mapbox": {"style": "light"}}}, "title": {"text": "星期×时段绝对盈利热力图"}, "xaxis": {"title": {"text": "时段(5分钟)"}}, "yaxis": {"title": {"text": "星期"}}, "height": 480}};
                        var cfg = {"displayModeBar": false, "displaylogo": false, "modeBarButtonsToRemove": ["pan2d", "lasso2d"]};
                        if (document.getElementById("time_slot_profit_heatmap_light")) {
                            Plotly.newPlot("time_slot_profit_heatmap_light", fig.data || [], fig.layout || {}, cfg);
                        }
                    })();
                </script>
                
                    </div>
                    <div class="metrics-section">
                        
                    </div>
                    <div class="explain"><p>跨全样本聚合每个 5 分钟时段在不同星期的绝对盈利，展示结构性差异。</p></div>
                </div>
                <script>
                    (function ensureMathJax() {
                        var rootEl = document.getElementById('page-root') || document.body;
                        function typeset() {
                            if (window.MathJax) {
                                if (window.MathJax.typesetPromise) {
                                    window.MathJax.typesetPromise([rootEl]).catch(function (err) {
                                        if (window.console && window.console.warn) {
                                            console.warn('MathJax typeset failed:', err);
                                        }
                                    });
                                } else if (window.MathJax.Hub && window.MathJax.Hub.Queue) {
                                    window.MathJax.Hub.Queue(['Typeset', window.MathJax.Hub, rootEl]);
                                }
                            }
                        }
                        if (document.readyState === 'loading') {
                            document.addEventListener('DOMContentLoaded', typeset);
                        } else {
                            typeset();
                        }
                        window.addEventListener('load', typeset);
                        var mjScript = document.getElementById('MathJax-script');
                        if (mjScript && !mjScript.hasAttribute('data-mathjax-listener')) {
                            mjScript.addEventListener('load', typeset);
                            mjScript.setAttribute('data-mathjax-listener', 'true');
                        }
                        if (!window.MathJax) {
                            var attempts = 0;
                            var timer = setInterval(function () {
                                attempts += 1;
                                if (window.MathJax) {
                                    clearInterval(timer);
                                    typeset();
                                } else if (attempts > 20) {
                                    clearInterval(timer);
                                }
                            }, 250);
                        }
                    })();
                </script>
            </body>
            </html>
            